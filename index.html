<!DOCTYPE html>
<html>
<head>
  <title>ğŸŒ Live Traffic Monitor</title>
  <meta charset="UTF-8">
  <style>
    body { font-family: Arial; text-align: center; background: #181818; color: white; }
    h1 { margin-top: 50px; }
    #rps { font-size: 48px; color: lime; }
  </style>
</head>
<body>
  <h1>ğŸŒ Live Traffic Monitor</h1>
  <p>Menampilkan Request Per Second (RPS) secara real-time</p>
  <div id="rps">0 RPS</div>

  <script>
    const workerHit = "https://worker.hcydgt.workers.dev/hit";
    const workerStats = "https://worker.hcydgt.workers.dev/stats";

    // Tiap ada request ke Pages, hitung ke Worker
    fetch(workerHit).catch(() => {});

    // Update angka RPS tiap detik
    setInterval(() => {
      fetch(workerStats)
        .then(res => res.json())
        .then(data => {
          document.getElementById("rps").innerText = data.rps + " RPS";
        })
        .catch(() => {
          document.getElementById("rps").innerText = "Error";
        });
    }, 1000);
  </script>
</body>
</html>
